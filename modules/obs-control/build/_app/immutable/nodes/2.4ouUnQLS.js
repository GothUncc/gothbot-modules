import{s as kl,n as $s,r as Ts,h as Sl,d as Cl,o as yl,j as Tl}from"../chunks/BkKqzdKn.js";import{S as wl,i as El,d as i,y as ys,s as Q,z as L,A as el,B as fl,C as ht,b as ot,c as e,D as te,w as l,e as n,f as v,E,h as p,g as R,j as a,l as h,k as U,x as tl,F as Il}from"../chunks/CFfx3CfZ.js";import{d as pl,w as Te}from"../chunks/unAorquD.js";function mt(t){return t?.length!==void 0?t:Array.from(t)}const Kt=Te("disconnected"),Ye=Te(null),Nl=Te(null),Ol=Te(null),Dl=Te(null),hl=Te({streaming:!1,recording:!1,recordingPaused:!1,replayBufferActive:!1,virtualCameraActive:!1}),Vl=Te({baseResolution:{width:1920,height:1080},scaledResolution:{width:1920,height:1080},frameRate:60,videoFormat:"I420"}),ml=Te({active:!1,maxDurationSeconds:300,savedClips:0,lastSaveTime:null}),_l=Te({active:!1,outputFormat:"UYVY"}),sl=Te(null);pl(Kt,t=>t==="connected");pl([Kt,hl,ml,_l],([t,s,o,u])=>({connected:t==="connected",streaming:s.streaming,recording:s.recording,replayBufferActive:o.active,virtualCameraActive:u.active,savedClips:o.savedClips}));function ws(t){Kt.set(t),t==="connected"&&Ye.set(new Date().toLocaleTimeString())}function Pl(t){hl.set(t),Ye.set(new Date().toLocaleTimeString())}function Al(t){Nl.set(t),Ye.set(new Date().toLocaleTimeString())}function Bl(t){Ol.set(t),Ye.set(new Date().toLocaleTimeString())}function Fl(t){Dl.set(t),Ye.set(new Date().toLocaleTimeString())}function Rl(t){Vl.set(t),Ye.set(new Date().toLocaleTimeString())}function Ul(t){ml.set(t),Ye.set(new Date().toLocaleTimeString())}function Ll(t){_l.set(t),Ye.set(new Date().toLocaleTimeString())}function Qt(t){sl.set(t),setTimeout(()=>sl.set(null),5e3)}let ze=null;const ll=3e3;let Gt=0;const Ml=10;function bl(){if(ze&&ze.readyState===WebSocket.OPEN)return;const s=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${window.location.pathname}ws`.replace(/\/+$/,"/ws");try{ze=new WebSocket(s),ze.addEventListener("open",jl),ze.addEventListener("message",Wl),ze.addEventListener("error",Jl),ze.addEventListener("close",ql)}catch(o){Qt(`WebSocket connection failed: ${o.message}`),gl()}}function jl(){console.log("[OBS WebSocket] Connected"),ws("connected"),Gt=0,ze.send(JSON.stringify({type:"request",action:"getServerStatus"}))}function Wl(t){try{const s=JSON.parse(t.data);switch(s.type){case"ServerStatus":Hl(s);break;case"CurrentSceneChanged":Al(s.scene);break;case"StreamStateChanged":Pl({streaming:s.streaming,recording:s.recording,recordingPaused:s.recordingPaused,replayBufferActive:s.replayBufferActive,virtualCameraActive:s.virtualCameraActive});break;case"ProfileChanged":Bl(s.profile);break;case"SceneCollectionChanged":Fl(s.collection);break;case"VideoSettingsChanged":Rl(s.settings);break;case"ReplayBufferStateChanged":Ul(s.state);break;case"VirtualCameraStateChanged":Ll(s.state);break;case"Error":Qt(s.errorMessage||"An error occurred");break;default:console.log("[OBS WebSocket] Unknown message type:",s.type)}}catch(s){console.error("[OBS WebSocket] Message parse error:",s)}}function Jl(t){console.error("[OBS WebSocket] Error:",t),Qt("WebSocket error occurred")}function ql(){console.log("[OBS WebSocket] Disconnected"),ws("disconnected"),gl()}function Hl(t){ws("connected"),console.log("[OBS WebSocket] Server status received")}function gl(){Gt<Ml?(Gt++,console.log(`[OBS WebSocket] Attempting reconnect in ${ll}ms (attempt ${Gt})`),setTimeout(()=>{bl()},ll)):Qt("WebSocket reconnection failed after maximum attempts")}function ol(t,s,o){const u=t.slice();return u[40]=s[o],u[42]=o,u}function nl(t,s,o){const u=t.slice();return u[43]=s[o],u[42]=o,u}function al(t,s,o){const u=t.slice();return u[45]=s[o],u}function rl(t){let s,o,u="üé¨",T,C=t[45]+"",b,f,I,A;function M(){return t[26](t[45])}return{c(){s=a("button"),o=a("span"),o.textContent=u,T=h(),b=U(C),f=h(),this.h()},l(k){s=n(k,"BUTTON",{class:!0});var _=v(s);o=n(_,"SPAN",{class:!0,"data-svelte-h":!0}),E(o)!=="svelte-12xgp1r"&&(o.textContent=u),T=p(_),b=R(_,C),f=p(_),_.forEach(i),this.h()},h(){l(o,"class","scene-icon svelte-1dk0o98"),l(s,"class","list-item svelte-1dk0o98"),L(s,"active",t[45]===t[1])},m(k,_){ot(k,s,_),e(s,o),e(s,T),e(s,b),e(s,f),I||(A=te(s,"click",M),I=!0)},p(k,_){t=k,_[0]&1&&C!==(C=t[45]+"")&&Q(b,C),_[0]&3&&L(s,"active",t[45]===t[1])},d(k){k&&i(s),I=!1,A()}}}function cl(t){let s,o="üî¥ LIVE";return{c(){s=a("span"),s.textContent=o,this.h()},l(u){s=n(u,"SPAN",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-i4ynrd"&&(s.textContent=o),this.h()},h(){l(s,"class","status-live svelte-1dk0o98")},m(u,T){ot(u,s,T)},d(u){u&&i(s)}}}function il(t){let s,o="‚è∫Ô∏è REC";return{c(){s=a("span"),s.textContent=o,this.h()},l(u){s=n(u,"SPAN",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-1aeyhmp"&&(s.textContent=o),this.h()},h(){l(s,"class","status-rec svelte-1dk0o98")},m(u,T){ot(u,s,T)},d(u){u&&i(s)}}}function dl(t){let s,o="üì∑ VCAM";return{c(){s=a("span"),s.textContent=o,this.h()},l(u){s=n(u,"SPAN",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-anpg4a"&&(s.textContent=o),this.h()},h(){l(s,"class","status-vcam svelte-1dk0o98")},m(u,T){ot(u,s,T)},d(u){u&&i(s)}}}function ul(t){let s,o,u=t[43].visible?"üëÅÔ∏è":"üö´",T,C,b,f,I=t[43].locked?"üîí":"üîì",A,M,k,_,D=t[43].name+"",X,B,y,V=t[43].type+"",F,j,q,se;function N(){return t[27](t[42])}function W(){return t[28](t[42])}return{c(){s=a("div"),o=a("button"),T=U(u),b=h(),f=a("button"),A=U(I),k=h(),_=a("span"),X=U(D),B=h(),y=a("span"),F=U(V),j=h(),this.h()},l(G){s=n(G,"DIV",{class:!0});var S=v(s);o=n(S,"BUTTON",{class:!0,title:!0});var J=v(o);T=R(J,u),J.forEach(i),b=p(S),f=n(S,"BUTTON",{class:!0,title:!0});var pe=v(f);A=R(pe,I),pe.forEach(i),k=p(S),_=n(S,"SPAN",{class:!0});var ve=v(_);X=R(ve,D),ve.forEach(i),B=p(S),y=n(S,"SPAN",{class:!0});var O=v(y);F=R(O,V),O.forEach(i),j=p(S),S.forEach(i),this.h()},h(){l(o,"class","source-icon-btn svelte-1dk0o98"),l(o,"title",C=t[43].visible?"Hide":"Show"),L(o,"hidden",!t[43].visible),l(f,"class","source-icon-btn svelte-1dk0o98"),l(f,"title",M=t[43].locked?"Unlock":"Lock"),L(f,"locked",t[43].locked),l(_,"class","source-name svelte-1dk0o98"),l(y,"class","source-type svelte-1dk0o98"),l(s,"class","list-item source-item svelte-1dk0o98")},m(G,S){ot(G,s,S),e(s,o),e(o,T),e(s,b),e(s,f),e(f,A),e(s,k),e(s,_),e(_,X),e(s,B),e(s,y),e(y,F),e(s,j),q||(se=[te(o,"click",N),te(f,"click",W)],q=!0)},p(G,S){t=G,S[0]&4&&u!==(u=t[43].visible?"üëÅÔ∏è":"üö´")&&Q(T,u),S[0]&4&&C!==(C=t[43].visible?"Hide":"Show")&&l(o,"title",C),S[0]&4&&L(o,"hidden",!t[43].visible),S[0]&4&&I!==(I=t[43].locked?"üîí":"üîì")&&Q(A,I),S[0]&4&&M!==(M=t[43].locked?"Unlock":"Lock")&&l(f,"title",M),S[0]&4&&L(f,"locked",t[43].locked),S[0]&4&&D!==(D=t[43].name+"")&&Q(X,D),S[0]&4&&V!==(V=t[43].type+"")&&Q(F,V)},d(G){G&&i(s),q=!1,Ts(se)}}}function vl(t){let s,o,u=t[40].name+"",T,C,b,f,I,A,M,k,_,D,X,B,y=t[40].muted?"üîá":"üîä",V,F,j,q,se=t[40].volume+"",N,W,G,S,J;function pe(...O){return t[29](t[42],...O)}function ve(){return t[30](t[42])}return{c(){s=a("div"),o=a("div"),T=U(u),b=h(),f=a("div"),I=a("div"),A=a("div"),M=h(),k=a("div"),_=a("input"),X=h(),B=a("button"),V=U(y),j=h(),q=a("span"),N=U(se),W=U("%"),G=h(),this.h()},l(O){s=n(O,"DIV",{class:!0});var P=v(s);o=n(P,"DIV",{class:!0,title:!0});var De=v(o);T=R(De,u),De.forEach(i),b=p(P),f=n(P,"DIV",{class:!0});var le=v(f);I=n(le,"DIV",{class:!0});var Ge=v(I);A=n(Ge,"DIV",{class:!0,style:!0}),v(A).forEach(i),Ge.forEach(i),le.forEach(i),M=p(P),k=n(P,"DIV",{class:!0});var ae=v(k);_=n(ae,"INPUT",{type:!0,min:!0,max:!0,class:!0,orient:!0}),X=p(ae),B=n(ae,"BUTTON",{class:!0,title:!0});var re=v(B);V=R(re,y),re.forEach(i),j=p(ae),q=n(ae,"SPAN",{class:!0});var we=v(q);N=R(we,se),W=R(we,"%"),we.forEach(i),ae.forEach(i),G=p(P),P.forEach(i),this.h()},h(){l(o,"class","channel-label svelte-1dk0o98"),l(o,"title",C=t[40].name),l(A,"class","meter-fill svelte-1dk0o98"),tl(A,"--peak-height",t[40].peak+"%"),l(I,"class","meter-bar svelte-1dk0o98"),l(f,"class","channel-meter svelte-1dk0o98"),l(_,"type","range"),l(_,"min","0"),l(_,"max","100"),_.value=D=t[40].volume,l(_,"class","volume-slider svelte-1dk0o98"),l(_,"orient","vertical"),l(B,"class","mute-btn svelte-1dk0o98"),l(B,"title",F=t[40].muted?"Unmute":"Mute"),L(B,"muted",t[40].muted),l(q,"class","volume-value svelte-1dk0o98"),l(k,"class","channel-controls svelte-1dk0o98"),l(s,"class","mixer-channel svelte-1dk0o98")},m(O,P){ot(O,s,P),e(s,o),e(o,T),e(s,b),e(s,f),e(f,I),e(I,A),e(s,M),e(s,k),e(k,_),e(k,X),e(k,B),e(B,V),e(k,j),e(k,q),e(q,N),e(q,W),e(s,G),S||(J=[te(_,"input",pe),te(B,"click",ve)],S=!0)},p(O,P){t=O,P[0]&8&&u!==(u=t[40].name+"")&&Q(T,u),P[0]&8&&C!==(C=t[40].name)&&l(o,"title",C),P[0]&8&&tl(A,"--peak-height",t[40].peak+"%"),P[0]&8&&D!==(D=t[40].volume)&&(_.value=D),P[0]&8&&y!==(y=t[40].muted?"üîá":"üîä")&&Q(V,y),P[0]&8&&F!==(F=t[40].muted?"Unmute":"Mute")&&l(B,"title",F),P[0]&8&&L(B,"muted",t[40].muted),P[0]&8&&se!==(se=t[40].volume+"")&&Q(N,se)},d(O){O&&i(s),S=!1,Ts(J)}}}function zl(t){let s,o,u,T='<button class="menu-btn svelte-1dk0o98">File</button> <button class="menu-btn svelte-1dk0o98">View</button> <button class="menu-btn svelte-1dk0o98">Tools</button> <button class="menu-btn svelte-1dk0o98">Help</button>',C,b,f,I,A,M=t[12]==="connected"?"Connected":"Offline",k,_,D,X="‚Üê Back to Core",B,y,V,F,j,q="Scenes",se,N,W,G="+",S,J,pe="‚àí",ve,O,P="‚Üë",De,le,Ge="‚Üì",ae,re,we,Ve,Pe,Ae,ce,he,Ee,r="üé¨",m,w,_t,Z,wt,Et,Xt,ie,Be,Ke,Es="CPU:",Zt,Qe,bt=t[11].cpu+"",It,xt,$t,Fe,Xe,Is="FPS:",es,nt,gt=t[11].fps.toFixed(2)+"",Nt,ts,Re,Ze,Ns="Render:",ss,at,kt=t[11].renderTime+"",Ot,ls,Ue,xe,Os="Dropped:",os,rt,St=t[11].dropped+"",Dt,ns,Le,$e,Ds='<span class="panel-title svelte-1dk0o98">Sources</span> <div class="panel-controls svelte-1dk0o98"><button class="icon-btn svelte-1dk0o98" title="Add Source">+</button> <button class="icon-btn svelte-1dk0o98" title="Remove Source">‚àí</button> <button class="icon-btn svelte-1dk0o98" title="Move Up">‚Üë</button> <button class="icon-btn svelte-1dk0o98" title="Move Down">‚Üì</button></div>',as,et,rs,me,Me,tt,Vs='<span class="panel-title svelte-1dk0o98">Audio Mixer</span>',cs,st,is,je,lt,Ps="Scene Transitions",ds,We,oe,_e,As="Fade",be,Bs="Cut",ge,Fs="Stinger",ke,Rs="Fade to Color",us,Je,vs,de,fs,ps,K,Ie,Ct=t[4]?"üî¥ Stop Streaming":"‚ö´ Start Streaming",Vt,hs,Ne,yt=t[5]?"‚èπÔ∏è Stop Recording":"‚è∫Ô∏è Start Recording",Pt,ms,Se,Us="üì∑ Virtual Camera",_s,Ce,Ls="üé¨ Studio Mode",bs,ye,Ms="üíæ Replay Buffer",gs,Oe,ks,At,Ss,js,ct=mt(t[0]),H=[];for(let c=0;c<ct.length;c+=1)H[c]=rl(al(t,ct,c));let x=t[4]&&cl(),$=t[5]&&il(),ee=t[6]&&dl(),it=mt(t[2]),z=[];for(let c=0;c<it.length;c+=1)z[c]=ul(nl(t,it,c));let dt=mt(t[3]),Y=[];for(let c=0;c<dt.length;c+=1)Y[c]=vl(ol(t,dt,c));return{c(){s=a("div"),o=a("div"),u=a("div"),u.innerHTML=T,C=h(),b=a("div"),f=a("div"),I=a("span"),A=h(),k=U(M),_=h(),D=a("a"),D.textContent=X,B=h(),y=a("div"),V=a("div"),F=a("div"),j=a("span"),j.textContent=q,se=h(),N=a("div"),W=a("button"),W.textContent=G,S=h(),J=a("button"),J.textContent=pe,ve=h(),O=a("button"),O.textContent=P,De=h(),le=a("button"),le.textContent=Ge,ae=h(),re=a("div");for(let c=0;c<H.length;c+=1)H[c].c();we=h(),Ve=a("div"),Pe=a("div"),Ae=a("div"),ce=a("div"),he=a("div"),Ee=a("span"),Ee.textContent=r,m=h(),w=U(t[1]),_t=h(),Z=a("div"),x&&x.c(),wt=h(),$&&$.c(),Et=h(),ee&&ee.c(),Xt=h(),ie=a("div"),Be=a("div"),Ke=a("span"),Ke.textContent=Es,Zt=h(),Qe=a("span"),It=U(bt),xt=U("%"),$t=h(),Fe=a("div"),Xe=a("span"),Xe.textContent=Is,es=h(),nt=a("span"),Nt=U(gt),ts=h(),Re=a("div"),Ze=a("span"),Ze.textContent=Ns,ss=h(),at=a("span"),Ot=U(kt),ls=h(),Ue=a("div"),xe=a("span"),xe.textContent=Os,os=h(),rt=a("span"),Dt=U(St),ns=h(),Le=a("div"),$e=a("div"),$e.innerHTML=Ds,as=h(),et=a("div");for(let c=0;c<z.length;c+=1)z[c].c();rs=h(),me=a("div"),Me=a("div"),tt=a("div"),tt.innerHTML=Vs,cs=h(),st=a("div");for(let c=0;c<Y.length;c+=1)Y[c].c();is=h(),je=a("div"),lt=a("div"),lt.textContent=Ps,ds=h(),We=a("div"),oe=a("select"),_e=a("option"),_e.textContent=As,be=a("option"),be.textContent=Bs,ge=a("option"),ge.textContent=Fs,ke=a("option"),ke.textContent=Rs,us=h(),Je=a("label"),vs=U(`Duration:\r
					`),de=a("input"),fs=U(" ms"),ps=h(),K=a("div"),Ie=a("button"),Vt=U(Ct),hs=h(),Ne=a("button"),Pt=U(yt),ms=h(),Se=a("button"),Se.textContent=Us,_s=h(),Ce=a("button"),Ce.textContent=Ls,bs=h(),ye=a("button"),ye.textContent=Ms,gs=h(),Oe=a("button"),ks=U("üíø Save Replay"),this.h()},l(c){s=n(c,"DIV",{class:!0});var g=v(s);o=n(g,"DIV",{class:!0});var d=v(o);u=n(d,"DIV",{class:!0,"data-svelte-h":!0}),E(u)!=="svelte-l83hqk"&&(u.innerHTML=T),C=p(d),b=n(d,"DIV",{class:!0});var ne=v(b);f=n(ne,"DIV",{class:!0});var Bt=v(f);I=n(Bt,"SPAN",{class:!0}),v(I).forEach(i),A=p(Bt),k=R(Bt,M),Bt.forEach(i),_=p(ne),D=n(ne,"A",{href:!0,class:!0,"data-svelte-h":!0}),E(D)!=="svelte-4rtqbg"&&(D.textContent=X),ne.forEach(i),d.forEach(i),B=p(g),y=n(g,"DIV",{class:!0});var ut=v(y);V=n(ut,"DIV",{class:!0});var Ft=v(V);F=n(Ft,"DIV",{class:!0});var Rt=v(F);j=n(Rt,"SPAN",{class:!0,"data-svelte-h":!0}),E(j)!=="svelte-18k6q1p"&&(j.textContent=q),se=p(Rt),N=n(Rt,"DIV",{class:!0});var qe=v(N);W=n(qe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),E(W)!=="svelte-16iaozf"&&(W.textContent=G),S=p(qe),J=n(qe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),E(J)!=="svelte-qs1d7o"&&(J.textContent=pe),ve=p(qe),O=n(qe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),E(O)!=="svelte-1mupbuj"&&(O.textContent=P),De=p(qe),le=n(qe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),E(le)!=="svelte-1qzqy3u"&&(le.textContent=Ge),qe.forEach(i),Rt.forEach(i),ae=p(Ft),re=n(Ft,"DIV",{class:!0});var Ws=v(re);for(let fe=0;fe<H.length;fe+=1)H[fe].l(Ws);Ws.forEach(i),Ft.forEach(i),we=p(ut),Ve=n(ut,"DIV",{class:!0});var Js=v(Ve);Pe=n(Js,"DIV",{class:!0});var qs=v(Pe);Ae=n(qs,"DIV",{class:!0});var Hs=v(Ae);ce=n(Hs,"DIV",{class:!0});var vt=v(ce);he=n(vt,"DIV",{class:!0});var Ut=v(he);Ee=n(Ut,"SPAN",{class:!0,"data-svelte-h":!0}),E(Ee)!=="svelte-1d2cizf"&&(Ee.textContent=r),m=p(Ut),w=R(Ut,t[1]),Ut.forEach(i),_t=p(vt),Z=n(vt,"DIV",{class:!0});var ft=v(Z);x&&x.l(ft),wt=p(ft),$&&$.l(ft),Et=p(ft),ee&&ee.l(ft),ft.forEach(i),Xt=p(vt),ie=n(vt,"DIV",{class:!0});var He=v(ie);Be=n(He,"DIV",{class:!0});var Lt=v(Be);Ke=n(Lt,"SPAN",{class:!0,"data-svelte-h":!0}),E(Ke)!=="svelte-hfpwmi"&&(Ke.textContent=Es),Zt=p(Lt),Qe=n(Lt,"SPAN",{class:!0});var Cs=v(Qe);It=R(Cs,bt),xt=R(Cs,"%"),Cs.forEach(i),Lt.forEach(i),$t=p(He),Fe=n(He,"DIV",{class:!0});var Mt=v(Fe);Xe=n(Mt,"SPAN",{class:!0,"data-svelte-h":!0}),E(Xe)!=="svelte-1piqzf7"&&(Xe.textContent=Is),es=p(Mt),nt=n(Mt,"SPAN",{class:!0});var zs=v(nt);Nt=R(zs,gt),zs.forEach(i),Mt.forEach(i),ts=p(He),Re=n(He,"DIV",{class:!0});var jt=v(Re);Ze=n(jt,"SPAN",{class:!0,"data-svelte-h":!0}),E(Ze)!=="svelte-qqomsw"&&(Ze.textContent=Ns),ss=p(jt),at=n(jt,"SPAN",{class:!0});var Ys=v(at);Ot=R(Ys,kt),Ys.forEach(i),jt.forEach(i),ls=p(He),Ue=n(He,"DIV",{class:!0});var Wt=v(Ue);xe=n(Wt,"SPAN",{class:!0,"data-svelte-h":!0}),E(xe)!=="svelte-1fu6jp6"&&(xe.textContent=Os),os=p(Wt),rt=n(Wt,"SPAN",{class:!0});var Gs=v(rt);Dt=R(Gs,St),Gs.forEach(i),Wt.forEach(i),He.forEach(i),vt.forEach(i),Hs.forEach(i),qs.forEach(i),Js.forEach(i),ns=p(ut),Le=n(ut,"DIV",{class:!0});var Jt=v(Le);$e=n(Jt,"DIV",{class:!0,"data-svelte-h":!0}),E($e)!=="svelte-1m2hwt5"&&($e.innerHTML=Ds),as=p(Jt),et=n(Jt,"DIV",{class:!0});var Ks=v(et);for(let fe=0;fe<z.length;fe+=1)z[fe].l(Ks);Ks.forEach(i),Jt.forEach(i),ut.forEach(i),rs=p(g),me=n(g,"DIV",{class:!0});var pt=v(me);Me=n(pt,"DIV",{class:!0});var qt=v(Me);tt=n(qt,"DIV",{class:!0,"data-svelte-h":!0}),E(tt)!=="svelte-14ow4ub"&&(tt.innerHTML=Vs),cs=p(qt),st=n(qt,"DIV",{class:!0});var Qs=v(st);for(let fe=0;fe<Y.length;fe+=1)Y[fe].l(Qs);Qs.forEach(i),qt.forEach(i),is=p(pt),je=n(pt,"DIV",{class:!0});var Ht=v(je);lt=n(Ht,"DIV",{class:!0,"data-svelte-h":!0}),E(lt)!=="svelte-xuq4vo"&&(lt.textContent=Ps),ds=p(Ht),We=n(Ht,"DIV",{class:!0});var zt=v(We);oe=n(zt,"SELECT",{class:!0});var Tt=v(oe);_e=n(Tt,"OPTION",{class:!0,"data-svelte-h":!0}),E(_e)!=="svelte-1aq81uy"&&(_e.textContent=As),be=n(Tt,"OPTION",{class:!0,"data-svelte-h":!0}),E(be)!=="svelte-1ts9p4m"&&(be.textContent=Bs),ge=n(Tt,"OPTION",{class:!0,"data-svelte-h":!0}),E(ge)!=="svelte-1xgcgpk"&&(ge.textContent=Fs),ke=n(Tt,"OPTION",{class:!0,"data-svelte-h":!0}),E(ke)!=="svelte-ityb6y"&&(ke.textContent=Rs),Tt.forEach(i),us=p(zt),Je=n(zt,"LABEL",{class:!0});var Yt=v(Je);vs=R(Yt,`Duration:\r
					`),de=n(Yt,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),fs=R(Yt," ms"),Yt.forEach(i),zt.forEach(i),Ht.forEach(i),ps=p(pt),K=n(pt,"DIV",{class:!0});var ue=v(K);Ie=n(ue,"BUTTON",{class:!0});var Xs=v(Ie);Vt=R(Xs,Ct),Xs.forEach(i),hs=p(ue),Ne=n(ue,"BUTTON",{class:!0});var Zs=v(Ne);Pt=R(Zs,yt),Zs.forEach(i),ms=p(ue),Se=n(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),E(Se)!=="svelte-xm98zp"&&(Se.textContent=Us),_s=p(ue),Ce=n(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),E(Ce)!=="svelte-1jat9ht"&&(Ce.textContent=Ls),bs=p(ue),ye=n(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),E(ye)!=="svelte-90apm6"&&(ye.textContent=Ms),gs=p(ue),Oe=n(ue,"BUTTON",{class:!0});var xs=v(Oe);ks=R(xs,"üíø Save Replay"),xs.forEach(i),ue.forEach(i),pt.forEach(i),g.forEach(i),this.h()},h(){l(u,"class","menu-items svelte-1dk0o98"),l(I,"class","dot svelte-1dk0o98"),l(f,"class","status-badge svelte-1dk0o98"),L(f,"connected",t[12]==="connected"),l(D,"href","/modules"),l(D,"class","back-btn svelte-1dk0o98"),l(b,"class","menu-right svelte-1dk0o98"),l(o,"class","menu-bar svelte-1dk0o98"),l(j,"class","panel-title svelte-1dk0o98"),l(W,"class","icon-btn svelte-1dk0o98"),l(W,"title","Add Scene"),l(J,"class","icon-btn svelte-1dk0o98"),l(J,"title","Remove Scene"),l(O,"class","icon-btn svelte-1dk0o98"),l(O,"title","Move Up"),l(le,"class","icon-btn svelte-1dk0o98"),l(le,"title","Move Down"),l(N,"class","panel-controls svelte-1dk0o98"),l(F,"class","panel-header svelte-1dk0o98"),l(re,"class","panel-content svelte-1dk0o98"),l(V,"class","panel scenes-panel svelte-1dk0o98"),l(Ee,"class","scene-badge svelte-1dk0o98"),l(he,"class","preview-scene svelte-1dk0o98"),l(Z,"class","preview-status svelte-1dk0o98"),l(Ke,"class","stat-label svelte-1dk0o98"),l(Qe,"class","stat-value svelte-1dk0o98"),l(Be,"class","stat-item svelte-1dk0o98"),l(Xe,"class","stat-label svelte-1dk0o98"),l(nt,"class","stat-value svelte-1dk0o98"),l(Fe,"class","stat-item svelte-1dk0o98"),l(Ze,"class","stat-label svelte-1dk0o98"),l(at,"class","stat-value svelte-1dk0o98"),l(Re,"class","stat-item svelte-1dk0o98"),l(xe,"class","stat-label svelte-1dk0o98"),l(rt,"class","stat-value svelte-1dk0o98"),l(Ue,"class","stat-item svelte-1dk0o98"),l(ie,"class","preview-stats svelte-1dk0o98"),l(ce,"class","preview-info svelte-1dk0o98"),l(Ae,"class","preview-placeholder svelte-1dk0o98"),l(Pe,"class","preview-canvas svelte-1dk0o98"),l(Ve,"class","preview-container svelte-1dk0o98"),l($e,"class","panel-header svelte-1dk0o98"),l(et,"class","panel-content svelte-1dk0o98"),l(Le,"class","panel sources-panel svelte-1dk0o98"),l(y,"class","main-content svelte-1dk0o98"),l(tt,"class","mixer-header svelte-1dk0o98"),l(st,"class","mixer-channels svelte-1dk0o98"),l(Me,"class","audio-mixer svelte-1dk0o98"),l(lt,"class","panel-title svelte-1dk0o98"),_e.__value="Fade",ht(_e,_e.__value),l(_e,"class","svelte-1dk0o98"),be.__value="Cut",ht(be,be.__value),l(be,"class","svelte-1dk0o98"),ge.__value="Stinger",ht(ge,ge.__value),l(ge,"class","svelte-1dk0o98"),ke.__value="Fade to Color",ht(ke,ke.__value),l(ke,"class","svelte-1dk0o98"),l(oe,"class","transition-select svelte-1dk0o98"),t[9]===void 0&&Sl(()=>t[31].call(oe)),l(de,"type","number"),l(de,"min","50"),l(de,"max","2000"),l(de,"step","50"),l(de,"class","duration-input svelte-1dk0o98"),l(Je,"class","duration-label svelte-1dk0o98"),l(We,"class","transition-controls svelte-1dk0o98"),l(je,"class","transitions-panel svelte-1dk0o98"),l(Ie,"class","control-btn streaming svelte-1dk0o98"),L(Ie,"active",t[4]),l(Ne,"class","control-btn recording svelte-1dk0o98"),L(Ne,"active",t[5]),l(Se,"class","control-btn virtual-cam svelte-1dk0o98"),L(Se,"active",t[6]),l(Ce,"class","control-btn studio-mode svelte-1dk0o98"),L(Ce,"active",t[7]),l(ye,"class","control-btn replay-buffer svelte-1dk0o98"),L(ye,"active",t[8]),l(Oe,"class","control-btn save-replay svelte-1dk0o98"),Oe.disabled=At=!t[8],l(K,"class","controls-panel svelte-1dk0o98"),l(me,"class","bottom-section svelte-1dk0o98"),l(s,"class","obs-layout svelte-1dk0o98")},m(c,g){ot(c,s,g),e(s,o),e(o,u),e(o,C),e(o,b),e(b,f),e(f,I),e(f,A),e(f,k),e(b,_),e(b,D),e(s,B),e(s,y),e(y,V),e(V,F),e(F,j),e(F,se),e(F,N),e(N,W),e(N,S),e(N,J),e(N,ve),e(N,O),e(N,De),e(N,le),e(V,ae),e(V,re);for(let d=0;d<H.length;d+=1)H[d]&&H[d].m(re,null);e(y,we),e(y,Ve),e(Ve,Pe),e(Pe,Ae),e(Ae,ce),e(ce,he),e(he,Ee),e(he,m),e(he,w),e(ce,_t),e(ce,Z),x&&x.m(Z,null),e(Z,wt),$&&$.m(Z,null),e(Z,Et),ee&&ee.m(Z,null),e(ce,Xt),e(ce,ie),e(ie,Be),e(Be,Ke),e(Be,Zt),e(Be,Qe),e(Qe,It),e(Qe,xt),e(ie,$t),e(ie,Fe),e(Fe,Xe),e(Fe,es),e(Fe,nt),e(nt,Nt),e(ie,ts),e(ie,Re),e(Re,Ze),e(Re,ss),e(Re,at),e(at,Ot),e(ie,ls),e(ie,Ue),e(Ue,xe),e(Ue,os),e(Ue,rt),e(rt,Dt),e(y,ns),e(y,Le),e(Le,$e),e(Le,as),e(Le,et);for(let d=0;d<z.length;d+=1)z[d]&&z[d].m(et,null);e(s,rs),e(s,me),e(me,Me),e(Me,tt),e(Me,cs),e(Me,st);for(let d=0;d<Y.length;d+=1)Y[d]&&Y[d].m(st,null);e(me,is),e(me,je),e(je,lt),e(je,ds),e(je,We),e(We,oe),e(oe,_e),e(oe,be),e(oe,ge),e(oe,ke),el(oe,t[9],!0),e(We,us),e(We,Je),e(Je,vs),e(Je,de),ht(de,t[10]),e(Je,fs),e(me,ps),e(me,K),e(K,Ie),e(Ie,Vt),e(K,hs),e(K,Ne),e(Ne,Pt),e(K,ms),e(K,Se),e(K,_s),e(K,Ce),e(K,bs),e(K,ye),e(K,gs),e(K,Oe),e(Oe,ks),Ss||(js=[te(W,"click",t[14]),te(J,"click",t[15]),te(oe,"change",t[31]),te(de,"input",t[32]),te(Ie,"click",t[20]),te(Ne,"click",t[21]),te(Se,"click",t[22]),te(Ce,"click",t[23]),te(ye,"click",t[24]),te(Oe,"click",t[25])],Ss=!0)},p(c,g){if(g[0]&4096&&M!==(M=c[12]==="connected"?"Connected":"Offline")&&Q(k,M),g[0]&4096&&L(f,"connected",c[12]==="connected"),g[0]&8195){ct=mt(c[0]);let d;for(d=0;d<ct.length;d+=1){const ne=al(c,ct,d);H[d]?H[d].p(ne,g):(H[d]=rl(ne),H[d].c(),H[d].m(re,null))}for(;d<H.length;d+=1)H[d].d(1);H.length=ct.length}if(g[0]&2&&Q(w,c[1]),c[4]?x||(x=cl(),x.c(),x.m(Z,wt)):x&&(x.d(1),x=null),c[5]?$||($=il(),$.c(),$.m(Z,Et)):$&&($.d(1),$=null),c[6]?ee||(ee=dl(),ee.c(),ee.m(Z,null)):ee&&(ee.d(1),ee=null),g[0]&2048&&bt!==(bt=c[11].cpu+"")&&Q(It,bt),g[0]&2048&&gt!==(gt=c[11].fps.toFixed(2)+"")&&Q(Nt,gt),g[0]&2048&&kt!==(kt=c[11].renderTime+"")&&Q(Ot,kt),g[0]&2048&&St!==(St=c[11].dropped+"")&&Q(Dt,St),g[0]&196612){it=mt(c[2]);let d;for(d=0;d<it.length;d+=1){const ne=nl(c,it,d);z[d]?z[d].p(ne,g):(z[d]=ul(ne),z[d].c(),z[d].m(et,null))}for(;d<z.length;d+=1)z[d].d(1);z.length=it.length}if(g[0]&786440){dt=mt(c[3]);let d;for(d=0;d<dt.length;d+=1){const ne=ol(c,dt,d);Y[d]?Y[d].p(ne,g):(Y[d]=vl(ne),Y[d].c(),Y[d].m(st,null))}for(;d<Y.length;d+=1)Y[d].d(1);Y.length=dt.length}g[0]&512&&el(oe,c[9]),g[0]&1024&&fl(de.value)!==c[10]&&ht(de,c[10]),g[0]&16&&Ct!==(Ct=c[4]?"üî¥ Stop Streaming":"‚ö´ Start Streaming")&&Q(Vt,Ct),g[0]&16&&L(Ie,"active",c[4]),g[0]&32&&yt!==(yt=c[5]?"‚èπÔ∏è Stop Recording":"‚è∫Ô∏è Start Recording")&&Q(Pt,yt),g[0]&32&&L(Ne,"active",c[5]),g[0]&64&&L(Se,"active",c[6]),g[0]&128&&L(Ce,"active",c[7]),g[0]&256&&L(ye,"active",c[8]),g[0]&256&&At!==(At=!c[8])&&(Oe.disabled=At)},i:$s,o:$s,d(c){c&&i(s),ys(H,c),x&&x.d(),$&&$.d(),ee&&ee.d(),ys(z,c),ys(Y,c),Ss=!1,Ts(js)}}}function Yl(t,s,o){let u;Cl(t,Kt,r=>o(12,u=r));let T=[],C="",b=[],f=[],I=!1,A=!1,M=!1,k=!1,_=!1,D="Fade",X=300,B={cpu:0,fps:0,dropped:0,kbps:0,renderTime:"0.0 ms",encodingTime:"0.0 ms"},y,V;yl(async()=>{bl(),await F(),y=setInterval(F,2e3),V=setInterval(()=>{o(3,f=f.map(r=>({...r,peak:r.muted?0:Math.random()*r.volume})))},100)}),Tl(()=>{y&&clearInterval(y),V&&clearInterval(V)});async function F(){try{await Promise.all([j(),q(),se(),N()])}catch(r){console.error("Failed to load OBS data:",r)}}async function j(){try{const m=await(await fetch("/api/obs/scenes")).json();o(0,T=m.scenes.map(w=>w.sceneName||w.name)),o(1,C=m.currentScene)}catch(r){console.error("Failed to load scenes:",r)}}async function q(){if(C)try{const m=await(await fetch(`/api/obs/sources?scene=${encodeURIComponent(C)}`)).json();o(2,b=m.sources.map(w=>({name:w.sourceName,visible:w.sceneItemEnabled,locked:w.sceneItemLocked,type:w.sourceType||"input",sceneItemId:w.sceneItemId})))}catch(r){console.error("Failed to load sources:",r)}}async function se(){try{const m=await(await fetch("/api/obs/audio")).json();o(3,f=m.audioSources.map(w=>({...w,peak:w.muted?0:w.volume})))}catch(r){console.error("Failed to load audio sources:",r)}}async function N(){try{const m=await(await fetch("/api/obs/controls")).json();o(4,I=m.streaming),o(5,A=m.recording),o(6,M=m.virtualCam),o(8,_=m.replayBuffer),o(11,B=m.stats)}catch(r){console.error("Failed to load controls:",r)}}async function W(r){try{await fetch("/api/obs/scenes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"setCurrentScene",sceneName:r})}),o(1,C=r),await q()}catch(m){console.error("Failed to set scene:",m),alert("Failed to switch scene: "+m.message)}}async function G(){const r=prompt("Enter scene name:");if(r)try{await fetch("/api/obs/scenes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"createScene",sceneName:r})}),await j()}catch(m){console.error("Failed to create scene:",m),alert("Failed to create scene: "+m.message)}}async function S(){if(T.length<=1){alert("Cannot remove the last scene");return}if(confirm(`Remove scene "${C}"?`))try{await fetch("/api/obs/scenes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"removeScene",sceneName:C})}),await j()}catch(m){console.error("Failed to remove scene:",m),alert("Failed to remove scene: "+m.message)}}async function J(r){const m=b[r];try{await fetch("/api/obs/sources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"setVisibility",sceneName:C,sceneItemId:m.sceneItemId,enabled:!m.visible})}),o(2,b[r].visible=!m.visible,b),o(2,b)}catch(w){console.error("Failed to toggle visibility:",w)}}async function pe(r){const m=b[r];try{await fetch("/api/obs/sources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"setLocked",sceneName:C,sceneItemId:m.sceneItemId,locked:!m.locked})}),o(2,b[r].locked=!m.locked,b),o(2,b)}catch(w){console.error("Failed to toggle lock:",w)}}async function ve(r){const m=f[r];try{await fetch("/api/obs/audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggleMute",inputName:m.name})}),o(3,f[r].muted=!m.muted,f),o(3,f)}catch(w){console.error("Failed to toggle mute:",w)}}async function O(r,m){const w=parseInt(m.target.value),_t=f[r];try{await fetch("/api/obs/audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"setVolume",inputName:_t.name,volume:w})}),o(3,f[r].volume=w,f),o(3,f)}catch(Z){console.error("Failed to set volume:",Z)}}async function P(){try{await fetch("/api/obs/controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggleStreaming"})}),await N()}catch(r){console.error("Failed to toggle streaming:",r),alert("Failed to toggle streaming: "+r.message)}}async function De(){try{await fetch("/api/obs/controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggleRecording"})}),await N()}catch(r){console.error("Failed to toggle recording:",r),alert("Failed to toggle recording: "+r.message)}}async function le(){try{await fetch("/api/obs/controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggleVirtualCam"})}),await N()}catch(r){console.error("Failed to toggle virtual camera:",r),alert("Failed to toggle virtual camera: "+r.message)}}async function Ge(){try{o(7,k=!k),alert("Studio mode not yet implemented")}catch(r){console.error("Failed to toggle studio mode:",r)}}async function ae(){try{await fetch("/api/obs/controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggleReplayBuffer"})}),await N()}catch(r){console.error("Failed to toggle replay buffer:",r),alert("Failed to toggle replay buffer: "+r.message)}}async function re(){if(!_){alert("Replay Buffer is not active");return}try{await fetch("/api/obs/controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"saveReplay"})}),alert("Replay saved!")}catch(r){console.error("Failed to save replay:",r),alert("Failed to save replay: "+r.message)}}const we=r=>W(r),Ve=r=>J(r),Pe=r=>pe(r),Ae=(r,m)=>O(r,m),ce=r=>ve(r);function he(){D=Il(this),o(9,D)}function Ee(){X=fl(this.value),o(10,X)}return[T,C,b,f,I,A,M,k,_,D,X,B,u,W,G,S,J,pe,ve,O,P,De,le,Ge,ae,re,we,Ve,Pe,Ae,ce,he,Ee]}class Xl extends wl{constructor(s){super(),El(this,s,Yl,zl,kl,{},null,[-1,-1])}}export{Xl as component};
